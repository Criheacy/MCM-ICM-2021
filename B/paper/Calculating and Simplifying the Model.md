<h2><center>4&nbsp;&nbsp;&nbsp;模型计算与简化</center></h2>

### 4.1 无人机监测模型

首先考虑携带中继器的无人机在风险区域探查的一般排布模型。该模型旨在解决在平坦空旷、无外界因素干扰情况下无人机的最佳排列方式，从而扩大有效覆盖面积，达到良好的通信效果。需要注意的是，因为该模型应用于普通场合的一般模型，因此模型约束于以下条件：

- 区域面积足够大。在考虑区域边界影响时可视为区域为环状连续的（Continuous）。
- 区域地形开阔空旷，地势平坦，无遮挡物。
- 区域任意子区域之间特征一致。

在此条件下，考虑无人机的最优排布方案。

#### 4.1.1 单无人机监测

首先考虑单一无人机在其飞行范围内的监测情况。单架无人机受限于该种类飞机的飞行距离（Flight Range），监测范围存在最大值，且最大监测区域为以无人机基点为中心的圆。又因为受制于飞行速度（Maximun Speed）以及飞机续航时间（Maximum Flight Time），无人机无法在每时每刻监测到最大监测区域的每一处，因此该模型需要设计方案以权衡监测面积与监测有效率的关系。

以下引入观测量“监测密度（Monitor Density）”与“响应时间（Response Time）”。监测密度定义为无人机能监测到的区域面积与最大监测区域面积的比值。【监测密度图】注意到由于无人机有限的飞行速度，单一无人机能监测到的区域中并非每个位置都能被实时监测，即当监测区域内有前线探查人员发出警报后并不一定能立即被覆盖该区域的无人机监测到，而通常需要等待一段时间后才会有无人机进入该范围内并通过中继器将信号传递出去。为衡量警报被由无人机挂载的中继器传出的时间，引入观测量“响应时间”，表示在无人机监测区域内发出警报到信号被传出的时间，在理想模型中即任意时刻指定一点到下一次由无人机挂载的中继器的信号传递范围覆盖该点的时间。一般而言，在计算中通常取响应时间的数学期望值，即响应时间期望作为排布规律的属性。

在实际问题中，我们希望监测密度尽可能高，同时响应时间尽可能小；但此二者是矛盾的。若要增大监测密度，则需要无人机飞行到最大检测区域的每一个角落，但飞行路径的延长也意味着飞行周期延长，致使响应时间上升；而提升缩短响应时间和飞行周期又限制了飞机的飞行距离，使得监测密度下降。因此首先考虑响应时间不变，即飞行路径长度固定的情况下，对飞行路径形状的优化。易知在路径长度固定的情况下，飞行路径形状为圆形时围成的面积取得最大值，且中继器信号范围扫过的面积最大。

【飞行路径图】

在飞行路径为圆形的情况下，注意到监测密度和响应时间的矛盾围绕“路径半径”这一观测量展开。将路径半径作为输入模型中的参数，在后续模型中根据其它参数，协调此二者的最佳取值。此外为增加监测密度，在同一小区域内设置多架无人机共同监测也是一种可行的方案。单元区域内多架无人机监测方案将在后文论述。

#### 4.1.2 多无人机排布阵列

以下讨论多架无人机排布阵列问题。假设无人机数量固定，根据一般模型的约束条件得区域任意子区域特征一致，则最优排布方案各处统一。上述已经确定，单一无人机的监测范围的外围围成圆形，则多架无人机的排布阵列问题即为若干大小相等圆形的区域填充问题。在多种填充方案中，六边形填充【可以引用参考文献】具有最高的填充密度，即在排布单元个数相同的条件下，未填充部分面积取得最小值。

【六边形填充图】

考虑在全局排布中的区域总监视密度。类似于单个无人机监视的情况，多架无人机监视区域的总监视密度也可以用面积的比值定义，即每架无人机能监测到的面积总和之和除以区域的总面积。引入观测量“监测密度因子（Monitor Density Factor）”，定义为单个无人机的监测密度与总监测密度的比值，用于衡量无人机的排布方案对监测密度的影响。考虑无人机监测密度的面积定义，监测密度因子即为每个小区域的面积之和与区域的总面积之比。由于任意子区域特征一致性，加之六边形填充又具备填充单元可重复性，可得整个区域的监测密度因子与单元区域内的监测密度因子相等。因此可以利用六边形填充的最小排列单位，即单位三角形，作为监测密度因子的计算单元。

【单位三角形示意图】

#### 4.1.3 模型参数声明及计算

声明模型参数如下表：

| Parameters | Description        |
| ---------- | ------------------ |
| r          | 中继器监测信号半径 |
| R          | 无人机最大航程     |
| d          | 无人机环绕路径半径 |
| D          | 监测单元半径       |
| \rho       | 单元监测密度       |
| \varOmega  | 总监测密度         |
| \mu        | 监测密度因子       |
| t_s        | 响应时间           |
| E(t_s)     | 响应时间的数学期望 |
| k          | 单元间圆心距       |
| v          | 风险度             |
| t_limit    | 期望响应时间上限   |
| \lambda    | 风险系数           |

此外，题目中所给数据即公设参数变量含义对应表如下表所示：

| Parameters | Description      |
| ---------- | ---------------- |
| n          | 区域内无人机数量    |
| v_{fire}   | 火的蔓延速度       |
| a          | 灭火造成的反向加速度 |
| Q_{cost}   | 火灾损失           |
| S_m        | 区域总面积          |

首先计算针对单个无人机的监测情况。根据上述模型图形关系可得：
$$
\left\{
\begin{matrix}
D = r + d \\ 
r < d < R
\end{matrix}
\right.
$$
由监测密度定义式：

$$
\left\{
\begin{matrix}
\rho = \frac{S_{sweep}}{S_0} \\ 
S_{sweep} = \pi r^2 \\
S_0 = \pi D^2
\end{matrix}
\right.
$$

计算得：

$$
\rho =  \frac{r^2} {D^2}
$$

考虑监测密度因子对总体监测密度的影响。由因子定义式得：

$$
\left\{
\begin{matrix}
\mu = \frac {\sum_{adj(i)} S_{i}} {S_t}  \\ 
S_{i} = \frac{1} {6} \times \pi D^2 \\
S_t = \frac {\sqrt{3}} {4} k^2
\end{matrix}
\right.
$$
计算得：

$$
\mu = \frac {\sum_{adj(i)} S_{i}} {S_t} = \frac {\frac{1}{2} \pi D^2} {\frac {\sqrt{3}} {4} k^2} = \frac {2 \pi} {\sqrt{3} k^2}
$$

由①②【标注\rho和\mu的计算式】可得：

$$
\varOmega = \rho \mu = \frac {2\pi r^2} {\sqrt{3} k^2}
$$

由数学期望表达式得：
$$
E(t_s) = \frac {T(1 - \varOmega)^2} {2} = \frac{\pi d} {v_{p}}(1 - (\frac{r}{k})^2 \times \frac{2 \pi} {\sqrt{3}})^2
$$
由于开始时无人机间隔运作以方便充电管理，因此在未发生火灾的情况下，无人机的总监测密度

为：
$$
\varOmega' = \rho \mu = \frac {2\pi r^2} {\sqrt{3} (2k)^2}
$$
在此情况下此时发现时间的数学期望为：
$$
E'(t_s) = \frac {T(1 - \varOmega')^2} {2} = \frac{\pi d} {v_{p}}(1 - \frac{1}{4}\times(\frac{r}{k})^2 \times \frac{2 \pi} {\sqrt{3}})^2
$$
将上述条件转化为非线性规划模型：
$$
goal = \min(W_{cost}) \\
s.t.
\left \{
\begin{matrix}
 n \times \frac{\sqrt{3}} {2}k^2 \geq S_m \\
E'(t_s) = \frac {T(1 - \varOmega')^2} {2} = \frac{\pi d} {v_{p}}(1 - \frac{1}{4}\times(\frac{r}{k})^2 \times \frac{2 \pi} {\sqrt{3}})^2 \\
 r \leq d \leq R\\
 E'(t_s) < t_{limit}\\
 \varOmega\leq \lambda \times v \\
 \varOmega' = \rho \mu = \frac {2\pi r^2} {\sqrt{3} (2k)^2}\\
  \varOmega = 4 \times \varOmega'
\end{matrix}
\right.
$$

可以看出，上述非线性规划结果由风险系数，期望响应时间，风险度，受灾面积四个值决定，我们将这四个值作为系统外界参数输入到模型中，得到如下结果：

【结果图】



### 4.2 火情下无人机监测模型

#### 4.2.1 无人机排布调整

一旦前线人员发现的火情信号通过无人机挂载的中继器传到【EOC - Emergency of Center？这里用题目中的机构名称】，无人机的监测即进入火情状态。在这种情况下，为了收集火情的大小、具体地点、趋势等特征数据，EOC将派出更多的前线探查人员前往发现火情的现场做进一步调查；同时消防员也会出动并赶往现场。这个过程中的无人机监测更加关键，需要配合赶到的前线人员将探查到的信号进一步传递出去，确保通讯的畅通。注意到火情的小、具体地点都是显而易见的数据，只需进一步探查即可收到；但有关火情的发展趋势、蔓延方向等数据往往难以预测。如何调整无人机的排布策略成为了至关重要的问题。

【模拟火情图】

如上图，假设红色区域内已经发现火情，且发现时火情的大致范围如上图所示；原定的无人机监测排布如图中蓝色圆形区域所示，呈上文所提到的六边形排布。假定无人机的所属区域为紧密填充的六边形，且六边形边缘上点到中心的最短距离为单元圆心距的一半，则火情可以用无人机的所属区域来辅助衡量。以下说明：已经存在火情的无人机所属区域为火灾区域，而紧邻火灾区域的所属区域称为危险区域（如下图所示）。在这种情况下，火随时可能从火灾区域蔓延到危险区域中，危险区域的受蔓延情况即为需要监测的火的发展趋势。

【火情下的六边形排布图】

需要注意的是，在火情中应该重点监测的是危险区域而非火灾区域。危险区域位于火灾区域的边缘，影响着火灾的发展趋势和影响范围，只要控制火情在危险区域的蔓延即可控制火灾的影响大小和受灾面积；而火灾区域内已经起火，即使未能及时灭火，火势也会随着可燃物的燃尽而自然熄灭。

因此，在火灾区域内的无人机应飞离中心火灾区域，重点进行对边缘危险区域的监测。以下引入针对极端火灾情况下的模型优化与计算过程。



#### 4.2.2 极端火灾情况下的模型优化

为了防止极端火灾造成的重大损失，本模型通过改变单位圆内部无人机数量n_p以及大幅度增加风险系数\lambda，实现应对极端火灾的解决方案以及结果验证。同时我们需要重新计算监测密度\varOmega

\varOmega'''的计算：

我们将一个运动-充电周期分成2n_p-1部分，前np-1个部分作为这n_p个无人机的启动阶段，这段时间共分成n-1个时间段，每个时间段时间长度为\frac{1}{n_p-1}\times1.75，在每一时间段内我们新启动一架无人机,那么在第k个时间段有k架无人机进行侦察，因此在第k个时间段的监测密度(\varOmega_k表示)为
$$
\varOmega_k = k\times\varOmega
$$
当最后一架无人机起飞时，系统进入第二阶段，即长达0.75小时的全体监视阶段，该阶段监视密度为\varOmega_{n_p},随后有第一架飞机开始陆续进入到充电阶段，与启动阶段是逆过程，直至最后一架飞机进入充电阶段的同时，第一架飞机又重新进入启动阶段，如此循环达成所有飞机的最大利用。因此，该过程平均监视密度(\varOmega'''表示)为
$$
\varOmega'''=\frac{2\sum_{i=1}^{n_p}\frac{1}{n_p - 1}\times1.75\varOmega_k+0.75\varOmega_{n_p}}{1.75+2.5}
$$
由于火灾造成的损失很大，本模型旨在第一时间发现火灾位置以快速阻止火灾发展，因此令
$$
\varOmega''' \geq 1
$$
将上述条件转化成非线性规划模型
$$
goal = \min(n\times n_p) \\
s.t.
\left \{
\begin{matrix}
 n_p \geq 2\\
\varOmega''' = (\frac{5}{2}n-3.5)\times\varOmega\\
\varOmega''' \geq 1\\
\varOmega = \rho \mu = \frac {2\pi r^2} {\sqrt{3} k^2}\\
\varOmega \geq \lambda v
\end{matrix}
\right.
$$
为了结果体现火灾重大的特性，在求解过程中\lambda取值尽量较大以满足防灾要求，列表如下

### 4.3 风险度随时间变化模型



### 4.4 针对地形优化

#### 4.4.1 模型优化

上述一般监测模型反映了无人机在开阔平地上的排布情况。在实际问题中，因为地形会对包括信号有效距离、飞行路径、火势蔓延速度在内的多种因素产生影响，所以地形是模型中不可忽略的重要因素。若将上述模型直接应用于监测区域，忽略这些地形产生的影响因素必将影响到模型准确率；因此现针对地形特征对上述模型进行优化。

为量化地形特征，将地形表面的曲面视为由许多微小的平面组成。观察单独一个平面，前线人员的分布情况与水平平面相同。因此无人机的监测范围也应在此平面上空，应用与水平平面相同的飞行路径和排布规律。【插图】





由上图同样可以看出，在加入地形参数后，无人机的数量相比平地乘上了一个地形修正因子，该因子量等于该斜面法线与垂线夹角余弦值倒数的平方，如下所示：
$$
\left \{
\begin{matrix}
\theta = \lt \vec{N_P}, \vec{N_0} \gt \\
k = \cos^{-1} \theta = \sec \theta \\
\frac{n_p'}{n_p} = k^2
\end{matrix}
\right.
$$

即：

$$
\frac{n_p'}{n_p} = \cos^{-2} \lt \vec{N_P}, \vec{N_0} \gt
$$

从上述公式也可看出，在斜面上无人机的数量与斜面的坡度正相关。这一结果符合模型预期。

考虑地形对模型产生影响途径。首先，地形会影响到无人机信号辐射范围。在平地上将无人机的监测范围视为圆形，但实际上无人机挂载的中继器发出的信号在空间中大致呈球形，且信号强度在这些方向上衰减【引参考文献】。在本模型中假定空间中的中继器发出的信号为球形，且半径与平地上无人机监测范围的圆形半径相同。与平地上相同，站在山地斜坡上的前线人员在监测到火情后，发出的信号同样要在无人机的监测范围内才能被传递出去，即前线人员在空间中的位置需要处于监测球内。

其次，火势蔓延速度也会受到地面坡度影响【列参考文献】。由此可看出，受到地形风力、热力学效应等影响，火势蔓延速度与平地模型中存在差异。在针对地形优化模型时，可以将火势蔓延速度视作以地面坡度为参数的函数，通过改编地面坡度影响火势蔓延速度，进而对区域风险度和无人机的监测做出相应调整。通过参数拟合，可以得到火势蔓延速度随地面坡度的变化函数如下所示：

【参数拟合】



此外，实际情况下地面坡度还会对区域风险度和火情下的状态产生多方面的影响。在本模型中主要针对上述两点进行优化，其它的影响途径通过调整参数对模型进行微调。

#### 4.4.2 优化模型计算

模型计算时应首先处理地形数据，将地形曲面分割为单位面积上的平面；计算后再进行区域积分，从而得到在整个区域上无人机排布情况。

【计算过程】